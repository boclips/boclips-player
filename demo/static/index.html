<html>
  <head>
    <title>Boclips Player Demo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style type="text/css">
      #container {
        width: 600px;
      }
    </style>
  </head>
  <body><script
          src="https://unpkg.com/boclips-js-security@8.0.0/dist/min/boclips-js-security.js"
          type="text/javascript"
  />
    <div id="container"></div>

    <script>
      const boclipsSecurity = BoclipsJSSecurity.default.createInstance({
        onLogin: () => {
          console.log('Successfully authenticated');
          renderPlayer();
        },
        onFailure: () => {
          console.log('failed');
        },
        realm: 'boclips',
        clientId: 'teachers',
        requireLoginPage: true,
        authEndpoint: 'https://login.staging-boclips.com/auth',
      });

      const container = document.querySelector('#container');
      const options = {
        api: {
          tokenFactory: boclipsSecurity.getTokenFactory(5),
        },
        analytics: {
          handleOnSegmentPlayback: console.log,
          metadata: {
            color: 'blue',
          },
        },
        interface: {
          controls: [
            'play-large',
            'rewind',
            'play',
            'fast-forward',
            'progress',
            'current-time',
            'settings',
            'mute',
            'volume',
            'captions',
            'fullscreen',
            'play-large',
            'fullscreen',
          ],
          addons: {
            hoverPreview: true,
          },
        },
        displayAutogeneratedCaptions: false,
      };
      const player = Boclips.default.PlayerFactory.get(container, options);
      player.loadVideo('https://api.boclips.com/v1/videos/5db974f94c585b2fd0eecc17');
      console.log("hi")
      document.onload = console.log("hi")
    </script>

  </body>
</html>

<style>
  .plyr {
    height: 80vh;
  }
</style>
